!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,i){var n=i(4)(i(3),i(5),null,null,null);t.exports=n.exports},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function e(t){t.component("v-mediabox",r.a)}var n=i(0),r=i.n(n);t.exports=e,"undefined"!=typeof window&&window.Vue&&Vue.use(e)}.call(e,i(1)(t))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Mediabox",model:{prop:"open"},props:{categories:{type:Array,default:function(){return[]}},height:{type:String,default:"250px"},closeOnClick:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},old:{type:[Array,Object],default:function(){return[]}},open:!0,search:{type:String,default:null},selected:{},url:{type:String,default:null}},data:function(){return{dataset:{clone:[],items:[],selected:[]},dialog:{model:!1},media:{model:null},loading:{model:!0},searchform:{prefix:"",prepend:"",model:!1,query:null,results:[]},toolbar:{model:!0,items:{category:{selected:{},items:[{name:"All",icon:"collections",code:"all",url:"/"}]}}}}},computed:{cmDataset:function(){return this.dataset},cmOpen:function(){return this.dialog.model=this.open,this.dialog.model}},mounted:function(){var t=this;this.dialog.model=this.open,this.loading.model=!1,this.toolbar.items.category.items=this.categories,this.toolbar.items.category.selected=this.toolbar.items.category.items[0],this.searchform.query=this.search,this.api().get(this.toolbar.items.category.selected.url,this.toolbar.items.category.selected.query).then(function(e){t.dataset.selected=t.old,t.api().dataset().set(e.items)})},methods:{api:function(){var t=this;return{dataset:function(){return{set:function(e){return e.map(function(e){e=void 0===e.active?Object.assign(e,{active:!1}):e,t.dataset.selected.findIndex(function(t){var i=JSON.parse(JSON.stringify(t)),n=JSON.parse(JSON.stringify(e));return i.active=!1,n.active=!1,JSON.stringify(i)==JSON.stringify(n)})>-1&&(e.active=!0)}),t.dataset.items=e,t.dataset.clone=JSON.parse(JSON.stringify(e)),t.$emit("set-items",t.dataset.items),t},get:function(){return t.$emit("get-items",t.dataset.items),t.dataset.items},select:function(e){return t.multiple?t.api().dataset().multiple(e):t.api().dataset().single(e),t.$emit("item-selected",t.dataset.selected,t.dataset.items),t},single:function(e){t.dataset.selected=[],t.dataset.items.map(function(t){t.active=!1}),t.api().dataset().multiple(e)},multiple:function(e){e.active=!e.active,e.active?(t.api().dataset().unselect(e),t.dataset.selected.push(e)):t.api().dataset().unselect(e)},unselect:function(e){t.dataset.selected.forEach(function(i,n){var r=JSON.parse(JSON.stringify(i)),a=JSON.parse(JSON.stringify(e));r.active=!1,r.active=!1,JSON.stringify(r)===JSON.stringify(a)&&t.dataset.selected.splice(n,1)})}}},get:function(e,i){return new Promise(function(n,r){t.$http.get(e,i).then(function(t){var e=t.body;n({items:e})})})}}},toolbarbox:function(){var t=this;return{select:function(t,e){return e},category:function(){return{select:function(e){t.toolbar.items.category.selected=e,t.api().get(e.url,e.query).then(function(e){t.api().dataset().set(e.items)}),t.$emit("category-change",e)}}}}},mediabox:function(){var t=this;return{select:function(e){t.api().dataset().select(e),t.closeOnClick&&t.dialogbox().toggle()}}},dialogbox:function(){var t=this;return{toggle:function(){t.dialog.model=!t.dialog.model},close:function(){t.dialog.model=!1},open:function(){t.dialog.model=!0}}},searchbox:function(){var t=this;return{clear:function(){t.searchbox().search("")},search:function(e,i){t.loading.model=!0,t.dataset.items=t.dataset.clone;var n=e.split(":");n.length>1?t.searchform.prepend="fa-filter":t.searchform.prepend="";var r=JSON.parse(JSON.stringify(t.dataset.items)),a=r.filter(function(t){var i=[];return Object.entries(t).forEach(function(r,a){console.log(r[0].toString(),r[1].toString(),e.toLowerCase()),n[1]?r[0].toString().trim().toLowerCase().includes(n[0].toString().trim().toLowerCase())&&r[1].toString().trim().toLowerCase().includes(n[1].toString().trim().toLowerCase())&&i.push(t):r[1].toString().trim().toLowerCase().includes(e.toString().trim().toLowerCase())&&i.push(t)}),i.length});t.dataset.items=a,console.log("Resulrs___________",a),t.loading.model=!1}}}},watch:{"dialog.model":function(t){this.dialog.model=t,this.$emit("input",t)},"dataset.selected":function(t){this.$emit("selected",t,this.dataset.items)},"toolbar.items.category.selected":function(t){},search:function(t){this.searchform.query=t,this.$emit("search",t,this.searchform)}}}},function(t,e){t.exports=function(t,e,i,n,r){var a,o=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(a=t,o=t.default);var c="function"==typeof o?o.options:o;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns),n&&(c._scopeId=n);var l;if(r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=i),l){var d=c.functional,u=d?c.render:c.beforeCreate;d?c.render=function(t,e){return l.call(e),u(t,e)}:c.beforeCreate=u?[].concat(u,l):[l]}return{esModule:a,exports:o,options:c}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{fullscreen:"",lazy:"",transition:"dialog-bottom-transition","hide-overlay":""},model:{value:t.cmOpen,callback:function(e){t.cmOpen=e},expression:"cmOpen"}},[i("v-card",{staticClass:"grey lighten-4",attrs:{flat:"",tile:""}},[i("v-toolbar",{staticClass:"accent white--text"},[t._t("toolbar",[i("v-menu",{attrs:{transition:"slide-y-transition"}},[i("v-btn",{staticClass:"white--text",attrs:{slot:"activator",flat:""},slot:"activator"},[i("v-icon",{attrs:{left:""},domProps:{innerHTML:t._s(t.toolbar.items.category.selected.icon)}}),t._v(" "),i("span",{domProps:{innerHTML:t._s(t.toolbar.items.category.selected.name)}}),t._v(" "),i("v-icon",{attrs:{right:""}},[t._v("arrow_drop_down")])],1),t._v(" "),i("v-card",[i("v-list",t._l(t.toolbar.items.category.items,function(e,n){return i("v-list-tile",{key:n,on:{click:function(i){t.toolbarbox().category().select(e)}}},[i("v-list-tile-action",[i("v-icon",{attrs:{left:""},domProps:{innerHTML:t._s(e.icon)}})],1),t._v(" "),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(e.name))])],1),t._v(" "),e.count?i("v-list-tile-action",[i("span",{staticClass:"grey--text",domProps:{innerHTML:t._s(e.count)}})]):t._e()],1)}))],1)],1)]),t._v(" "),i("v-spacer"),t._v(" "),t._t("searchform",[i("v-text-field",{attrs:{"prepend-icon":t.searchform.prepend,prefix:t.searchform.prefix,placeholder:"Search",light:"",solo:"","hide-details":"","single-line":"","append-icon":"search"},on:{input:function(e){t.searchbox().search(t.searchform.query,e)}},model:{value:t.searchform.query,callback:function(e){t.searchform.query=e},expression:"searchform.query"}})],{searchform:t.searchform.query}),t._v(" "),t.loading.model?t._e():i("v-btn",{attrs:{dark:"",icon:""},on:{click:function(e){e.stopPropagation(),t.dialogbox().close()}}},[i("v-icon",[t._v("close")])],1),t._v(" "),t.loading.model?i("v-progress-circular",{staticClass:"primary--text",attrs:{indeterminate:""}}):t._e()],2),t._v(" "),i("v-container",{attrs:{fluid:"","fill-height":"","grid-list-lg":""}},[0===t.dataset.items.length?[t._t("empty-result",[i("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},[i("v-flex",[i("div",{staticClass:"text-xs-center grey--text"},[i("v-icon",{staticClass:"display-4 grey--text"},[t._v("fa-frown-o")]),t._v(" "),i("div",[t._v("There seems to be only loneliness here")])],1)])],1)])]:t._e()],2),t._v(" "),i("v-container",{attrs:{fluid:"","fill-height":"","grid-list-lg":""}},[i("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},[t._t("content",t._l(t.dataset.items,function(e,n){return i("v-flex",{key:n,attrs:{sm3:""}},[i("v-slide-y-transition",[i("div",{staticClass:"media--item",attrs:{role:"button"},on:{click:function(i){i.stopPropagation(),t.mediabox().select(e)}}},[t._t("media",[i("v-card",{staticClass:"accent",class:e.active?"elevation-10":"elevation-1",attrs:{transition:"scale-transition"}},[i("v-card-media",{attrs:{height:t.height,src:e.thumbnail}},[i("v-container",{staticClass:"pa-0 white--text",attrs:{"fill-height":"",fluid:""}},[i("v-layout",{attrs:{column:""}},[i("v-card-title",{staticClass:"subheading",domProps:{innerHTML:t._s(e.name)}}),t._v(" "),i("v-slide-y-transition",[i("v-icon",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"dataset.active"}],staticClass:"display-4 pa-1 text-xs-center white--text",attrs:{ripple:""}},[t._v("check")])],1),t._v(" "),i("v-spacer"),t._v(" "),i("v-card-actions",{staticClass:"px-2 white--text"},[i("v-icon",{staticClass:"white--text",domProps:{innerHTML:t._s(e.icon)}}),t._v(" "),i("v-spacer"),t._v(" "),i("span",{domProps:{innerHTML:t._s(e.mimetype)}}),t._v(" "),i("span",{domProps:{innerHTML:t._s(e.size)}})],1)],1)],1)],1)],1)])],2)])],1)}))],2)],1)],1)],1)},staticRenderFns:[]}}]);
//# sourceMappingURL=vuetify-mediabox.min.js.map